<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ROK4: Référence du modèle de la classe TiffNodataManager&lt; T &gt;</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ROK4
   </div>
   <div id="projectbrief">Serveur de diffusion de données géographiques et outils de traitement</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Généré par Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Recherche');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Recherche');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Fonctions membres publiques</a> &#124;
<a href="classTiffNodataManager-members.html">Liste de tous les membres</a>  </div>
  <div class="headertitle">
<div class="title">Référence du modèle de la classe TiffNodataManager&lt; T &gt;</div>  </div>
</div><!--header-->
<div class="contents">

<p>Manipulation de la couleur de nodata.  
 <a href="classTiffNodataManager.html#details">Plus de détails...</a></p>

<p><code>#include &lt;<a class="el" href="TiffNodataManager_8h_source.html">TiffNodataManager.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Fonctions membres publiques</h2></td></tr>
<tr class="memitem:ad6245d1413ccfc8f0519effb89118d04"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTiffNodataManager.html#ad6245d1413ccfc8f0519effb89118d04">TiffNodataManager</a> (uint16 channels, int *targetValue, bool touchEdges, int *dataValue, int *nodataValue, int tolerance=0)</td></tr>
<tr class="memdesc:ad6245d1413ccfc8f0519effb89118d04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Crée un objet <a class="el" href="classTiffNodataManager.html" title="Manipulation de la couleur de nodata.">TiffNodataManager</a> à partir des différentes couleurs.  <a href="classTiffNodataManager.html#ad6245d1413ccfc8f0519effb89118d04">Plus de détails...</a><br /></td></tr>
<tr class="separator:ad6245d1413ccfc8f0519effb89118d04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9c3caaa7f8703b4a12a2881f8a46789"><td class="memItemLeft" align="right" valign="top"><a id="af9c3caaa7f8703b4a12a2881f8a46789"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTiffNodataManager.html#af9c3caaa7f8703b4a12a2881f8a46789">~TiffNodataManager</a> ()</td></tr>
<tr class="memdesc:af9c3caaa7f8703b4a12a2881f8a46789"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructeur par défaut. <br /></td></tr>
<tr class="separator:af9c3caaa7f8703b4a12a2881f8a46789"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59133415a4ba470340bca74c4d32ed08"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTiffNodataManager.html#a59133415a4ba470340bca74c4d32ed08">treatNodata</a> (char *inputImage, char *<a class="el" href="merge4tiff_8cpp.html#aa83e540503fbf0062650fb1bb5a06034">outputImage</a>, char *<a class="el" href="merge4tiff_8cpp.html#a95f2defdc8f94b829317bff37159227f">outputMask</a>=0)</td></tr>
<tr class="memdesc:a59133415a4ba470340bca74c4d32ed08"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fonction de traitement du manager, effectuant les modification de l'image.  <a href="classTiffNodataManager.html#a59133415a4ba470340bca74c4d32ed08">Plus de détails...</a><br /></td></tr>
<tr class="separator:a59133415a4ba470340bca74c4d32ed08"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Description détaillée</h2>
<div class="textblock"><h3>template&lt;typename T&gt;<br />
class TiffNodataManager&lt; T &gt;</h3>

<p>Manipulation de la couleur de nodata. </p>
<dl class="section author"><dt>Auteur</dt><dd>Institut national de l'information géographique et forestière</dd></dl>
<p>On veut pouvoir modifier la couleur de nodata d'images à canal entier, et ce pour des images qui ne possèdent pas de masque de données. De plus, on veut avoir la possibilité de supprimer une couleur d'une image pour la réserver au nodata. Typiquement, il est des cas où le blanc pur doit être exclusivement utilisé pour caractériser des pixels de nodata. On va alors remplacer le blanc de donnée (neige, écume, hot spot...) par du "gris clair" (254,254,254).</p>
<p>On va donc définir 3 couleurs : </p><ul>
<li>la couleur cible #targetValue : les pixels de cette couleur sont ceux potentiellement modifiés </li>
<li>la nouvelle couleur de nodata #nodataValue (peut être la même que celle cible, pour spécifier qu'on ne veut pas la changer) </li>
<li>la nouvelle couleur de donnée #dataValue (peut être la même que celle cible, pour spécifier qu'on ne veut pas la changer)</li>
</ul>
<p>Et la classe va permettre les actions suivantes : </p><ul>
<li>de modifier la couleur des pixels de nodata </li>
<li>de modifier la couleur des pixels de données </li>
<li>écrire le masque correspondant à l'image en entrée et sortie. Si l'image ne contient pas de nodata (on dit alors qu'elle est pleine), le masque n'est pas écrit.</li>
</ul>
<p>Pour identifier les pixels de nodata, on peut utiliser l'option "touche les bords" (#touchEdges) ou non en plus de la valeur cible.</p>
<p>On dit qu'un pixel "touche le bord" dès lors que l'on peut relier le pixel au bord en ne passant que par des pixels dont la couleur est celle cible. Techniquement, on commence par les bord puis on se propage vers l'intérieur de l'image.</p>
<div class="image">
<img src="manageNodata.png" alt=""/>
</div>
<p>Les fonctions utilisent les loggers et doivent donc être initialisés par un des appelant. </p>
</div><h2 class="groupheader">Documentation des constructeurs et destructeur</h2>
<a id="ad6245d1413ccfc8f0519effb89118d04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6245d1413ccfc8f0519effb89118d04">&#9670;&nbsp;</a></span>TiffNodataManager()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classTiffNodataManager.html">TiffNodataManager</a>&lt; T &gt;::<a class="el" href="classTiffNodataManager.html">TiffNodataManager</a> </td>
          <td>(</td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>channels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>targetValue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>touchEdges</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>dataValue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nodataValue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>tolerance</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Crée un objet <a class="el" href="classTiffNodataManager.html" title="Manipulation de la couleur de nodata.">TiffNodataManager</a> à partir des différentes couleurs. </p>
<p>Les booléens #removeTargetValue et #newNodataValue sont déduits des couleurs, si elles sont identiques ou non. </p><dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">channels</td><td>nombre de canaux dans les couleurs </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">targetValue</td><td>couleur cible </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">touchEdges</td><td>méthode de détection des pixels de nodata </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dataValue</td><td>nouvelle couleur pour les données </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nodataValue</td><td>nouvelle couleur pour les non-données </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Documentation des fonctions membres</h2>
<a id="a59133415a4ba470340bca74c4d32ed08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59133415a4ba470340bca74c4d32ed08">&#9670;&nbsp;</a></span>treatNodata()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classTiffNodataManager.html">TiffNodataManager</a>&lt; T &gt;::treatNodata </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>inputImage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>outputImage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>outputMask</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fonction de traitement du manager, effectuant les modification de l'image. </p>
<p>Elle utilise les booléens #removeTargetValue et #newNodataValue pour déterminer le travail à faire. Si le travail consisite simplement à identifier le nodata et écrire un maque (pas de modification à apporter à l'image), l'image ne sera pas réecrite, même si un chemin différent pour la sortie est fourni. </p><dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">input</td><td>chemin de l'image à modifier </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">output</td><td>chemin de l'image de sortie </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">outputMask</td><td>chemin du masque de sortie </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>Vrai en cas de réussite, faux sinon </dd></dl>

</div>
</div>
<hr/>La documentation de cette classe a été générée à partir du fichier suivant :<ul>
<li>build/sources/core-cpp/src/image/file/<a class="el" href="TiffNodataManager_8h_source.html">TiffNodataManager.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Généré par &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
